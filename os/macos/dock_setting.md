# macOS Dock の並び順を Import/Export し、JSON で編集する方法
Generated by ChatGPT 4o

macOS の Dock に登録されたアプリの並び順をバックアップし、編集し、復元する方法を紹介します。

## 1. Dock の設定をエクスポート
まず、現在の Dock の設定を `plist` としてエクスポートします。

```sh
defaults export com.apple.dock ~/dock.plist
```

または、手動で `plist` をコピーする方法もあります。

```sh
cp ~/Library/Preferences/com.apple.dock.plist ~/dock_backup.plist
```

## 2. plist を XML に変換
エクスポートした `plist` を XML 形式に変換します。

```sh
plutil -convert xml1 -o ~/dock.xml ~/dock.plist
```

これで `dock.xml` という XML ファイルが作成されます。

## 3. XML を編集
エディタで `dock.xml` を開いて並び順を変更します。

```sh
vim ~/dock.xml
```

または、GUIエディタを使う場合：

```sh
code ~/dock.xml  # VS Code
open -a "TextEdit" ~/dock.xml  # macOS標準エディタ
```

編集する際は、`persistent-apps` 配列の中の順序を変更することで、Dock の並び順を調整できます。

## 4. 編集後の plist を適用
編集した XML を `plist` に戻します。

```sh
plutil -convert binary1 -o ~/dock.plist ~/dock.xml
```

## 5. Dock の設定をインポート
編集した `plist` を `defaults import` で適用します。

```sh
defaults import com.apple.dock ~/dock.plist
killall Dock  # Dock を再起動
```

## 6. Dock をリセットする方法
万が一、設定が適用されない場合は、Dock をリセットしてデフォルトに戻すことができます。

```sh
defaults delete com.apple.dock
killall Dock
```

## まとめ
1. `defaults export` で Dock の設定を `plist` にエクスポート
2. `plutil -convert xml1` で `plist` を XML に変換
3. XML を編集してアプリの並び順を変更
4. `plutil -convert binary1` で XML を `plist` に戻す
5. `defaults import` で Dock を復元し、`killall Dock` で反映

この方法を使えば、Dock の並び順を自由にカスタマイズし、簡単にバックアップ・復元できます。

